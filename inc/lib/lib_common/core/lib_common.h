//=============================================================================
/// @file
/// 共通ライブラリヘッダファイル
///
/// 共通ライブラリヘッダファイルです。
///
/// @attention なし
//-----------------------------------------------------------------------------

#pragma once
#pragma managed(push, off)

//=============================================================================
// インクルードファイル
//-----------------------------------------------------------------------------
#include "lib_common/core/lib_common_def.h"

//=============================================================================
// 共通ライブラリ名前空間
//-----------------------------------------------------------------------------
namespace lib_common {
    //=========================================================================
    // グローバル関数
    //-------------------------------------------------------------------------
    /// 名前空間名取得関数
    ///
    /// 名前空間名取得関数です。
    ///
    /// @param     なし
    /// @return    文字列ポインタ
    /// @attention なし
    //-------------------------------------------------------------------------
    LIB_COMMON_API wchar_t const* GetNameSpaceName() noexcept;

    //-------------------------------------------------------------------------
    /// ターゲット種別取得関数
    ///
    /// ターゲット種別取得関数です。
    ///
    /// @param     なし
    /// @return    文字列ポインタ
    /// @attention なし
    //-------------------------------------------------------------------------
    LIB_COMMON_API wchar_t const* GetTargetType() noexcept;

    //-------------------------------------------------------------------------
    /// インスタンスハンドル取得関数
    ///
    /// インスタンスハンドル取得関数です。
    ///
    /// @param     なし
    /// @return    インスタンスハンドル
    /// @attention なし
    //-------------------------------------------------------------------------
    LIB_COMMON_API HINSTANCE GetInstanceHandle() noexcept;

    //=========================================================================
    /// 共通ライブラリクラス
    ///
    /// 共通ライブラリクラスです。
    ///
    /// @attention シングルトンクラスです。
    //-------------------------------------------------------------------------
    class LIB_COMMON_API LibCommon final {
        //=====================================================================
        // 非公開削除関数
        //---------------------------------------------------------------------
    private:
        //---------------------------------------------------------------------
        /// コピーコンストラクタ
        ///
        /// コピーコンストラクタです。
        ///
        /// @param[in] インスタンス参照
        /// @return    なし
        /// @attention この関数を削除しました。
        //---------------------------------------------------------------------
        LibCommon(LibCommon const&) = delete;

        //---------------------------------------------------------------------
        /// インスタンスコピー代入演算子オーバーロード関数
        ///
        /// インスタンスコピー代入演算子オーバーロード関数です。
        ///
        /// @param[in] インスタンス参照
        /// @return    なし
        /// @attention この関数を削除しました。
        //---------------------------------------------------------------------
        LibCommon& operator=(LibCommon const&) = delete;

        //=====================================================================
        // 静的非公開文字列定数
        //---------------------------------------------------------------------
    private:
        inline static constexpr wchar_t const* const _CLASS_NAME{L"共通ライブラリクラス"}; ///< クラス名

        //=====================================================================
        // 静的公開関数
        //---------------------------------------------------------------------
    public:
        //---------------------------------------------------------------------
        /// インスタンス取得関数
        ///
        /// インスタンス取得関数です。
        ///
        /// @param     なし
        /// @return    共通ライブラリクラスインスタンス参照
        /// @attention なし
        //---------------------------------------------------------------------
        static LibCommon& GetInstance() noexcept;

        //=====================================================================
        // 非公開構築子と解体子
        //---------------------------------------------------------------------
    private:
        //---------------------------------------------------------------------
        /// コンストラクタ
        ///
        /// コンストラクタです。
        ///
        /// @param     なし
        /// @return    なし
        /// @attention なし
        //---------------------------------------------------------------------
        explicit LibCommon() noexcept;

        //---------------------------------------------------------------------
        /// デストラクタ
        ///
        /// デストラクタです。
        ///
        /// @param     なし
        /// @return    なし
        /// @attention なし
        //---------------------------------------------------------------------
        virtual ~LibCommon() noexcept;

        //=====================================================================
        // 公開関数
        //---------------------------------------------------------------------
    public:
        //---------------------------------------------------------------------
        /// 初期化関数
        ///
        /// 初期化関数です。
        ///
        /// @param     なし
        /// @return    実行結果
        /// -          true  成功
        /// -          false 失敗
        /// @attention なし
        //---------------------------------------------------------------------
        virtual bool Init() noexcept;

        //---------------------------------------------------------------------
        /// 終了関数
        ///
        /// 終了関数です。
        ///
        /// @param     なし
        /// @return    実行結果
        /// -          true  成功
        /// -          false 失敗
        /// @attention なし
        //---------------------------------------------------------------------
        virtual bool Exit() noexcept;

        //=====================================================================
        // インライン静的公開関数
        //---------------------------------------------------------------------
    public:
        //---------------------------------------------------------------------
        /// オブジェクト名取得関数
        ///
        /// オブジェクト名取得関数です。
        ///
        /// @param     なし
        /// @return    文字列ポインタ
        /// @attention なし
        //---------------------------------------------------------------------
        inline static wchar_t const* GetObjectName() noexcept {return LibCommon::_CLASS_NAME;}
    };
}

#pragma managed(pop)
